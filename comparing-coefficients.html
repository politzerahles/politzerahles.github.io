<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "DTD/xhtml1-transitional.dtd">
<html lang="en">
    <head>
<style type="text/css">
.knitr .inline {
  background-color: #f7f7f7;
  border:solid 1px #B0B0B0;
}
.error {
	font-weight: bold;
	color: #FF0000;
}
.warning {
	font-weight: bold;
}
.message {
	font-style: italic;
}
.source, .bigsource, .output, .warning, .error, .message {
	padding: 0 1em;
  border:solid 1px #F7F7F7;
	width:65%;
	margin-left:auto; margin-right:auto;
	border:1px solid #ccc;
	overflow:auto;
	background-color: #FFFFFF;
}
.source {
  background-color: #f5f5f5;
}
.rimage .left {
  text-align: left;
}
.rimage .right {
  text-align: right;
}
.rimage .center {
  text-align: center;
}
.hl.num {
  color: #AF0F91;
}
.hl.str {
  color: #317ECC;
}
.hl.com {
  color: #AD95AF;
  font-style: italic;
}
.hl.opt {
  color: #000000;
}
.hl.std {
  color: #585858;
}
.hl.kwa {
  color: #295F94;
  font-weight: bold;
}
.hl.kwb {
  color: #B05A65;
}
.hl.kwc {
  color: #55aa55;
}
.hl.kwd {
  color: #BC5A65;
  font-weight: bold;
}
</style>
        <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
        <title>Comparing model coefficients to one another</title>
        <link rel="stylesheet" type="text/css" href="stevetools_stylesheet.css" />
	<script type="text/javascript"
		src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
	</script>
    <head>

    <body>


		<h2>Comparing linear model coefficients to one another</h2>

		<p class="centercol">[Explanation of why you'd want to do this]</p>


		<h3>The code</h3>
		<p class="centercol">The following function will calculate the t-statistic for a comparison between two coefficients in a linear model (such as the kind you get from the <code>lm()</code> function):</p>
<p class="centercol" style="border:1px solid #000; border-style: dotted; padding:10px; background-color: white;"><code>compare_coefs <- function( model, coef1, coef2 ){<br /><br />diff <- (coef(model)[coef1] - coef(model)[coef2])<br />pooledvar <- sqrt( vcov(model)[coef1,coef1] + vcov(model)[coef2,coef2] - 2*vcov(model)[coef1,coef2] )<br />t <- diff / pooledvar<br />names(t) <- NULL # this is just for cosmetic purposes, it doesn't actually matter<br />return(t)<br /><br />}</code></p>
		<p class="centercol">To use it, just give it your model, plus the names or indices of the coefficients you want to compare. For example:</p>
<p class="centercol" style="border:1px solid #000; border-style: dotted; padding:10px; background-color: white;"><code>m <- lm( Temp ~ Wind + Ozone, airquality )<br />compare_coefs( m, 2, 3) # Compare the 2nd and 3rd coefficient<br />compare_coefs( m, "Wind", "Ozone" ) # Compare the "Wind" and "Ozone" coefficients; should get the same value</code></p>
		<p class="centercol">This will give you a <em>t</em>-statistic for the difference between those two coefficients. From there, you can just calculate the p-value of this statistic based on the degrees of freedom (which you can normally steal from the model summary):</p>
<p class="centercol" style="border:1px solid #000; border-style: dotted; padding:10px; background-color: white;"><code>t <- compare_coefs( m, "Wind", "Ozone" )<br />df <- m$df.residual # summary(m) shows that this is 113<br />pt( -abs(t), df ) *2 # I use -abs() to force t to be negative, and *2 to get a two-tailed p-value )</code></p>

 		<h3>Mixed-effects models</h3>
		<p class="centercol">First, copy and paste the function (from the end of this page, or from LMEMinterval.R) into R.</p>
		<p class="centercol">Next we'll need to call the function. We'll need to put in several parameters when we call it:</p>
		<ul class="center">
			<li>The <code>formula</code> parameter takes an lme4-style model formula, specifying the dependent variable, the independent
				variables, and grouping variables (random effects). For this, we will use <code>RT ~ Prime + (1|Participant) + (1|Item)</code>.
				(Note that, unlike in a real mixed-effects model, the specific structure of each random effect doesn't matter here.
				We are only specifying that there are participants and there are items; we don't need to specify exactly what random
				effects [slopes and intercepts] there are for Participant and what random effects there are for Item. Even if you
				put that information in, this function will not use it.)</p>
			<li><code>data</code> is the data object. In this case, "URISdata".</li>
			<li><code>conf</code> is .95 by default (for a 95% interval). That is fine for our purposes, so we don't need to change it.</li>
	<hr>
	<p class="mini">by <a href="./">Stephen Politzer-Ahles</a>. Last modified on 2025-02-13.</p>



    </body>
</html>
